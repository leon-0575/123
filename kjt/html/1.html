<!-- <html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登陆页</title>
    <script type="text/javascript" src="cookie.js"></script> 
</head>
<body>
    <form>
        <h2>欢迎来到17点, 请注册</h2>
        <div class="field">
            姓名
            <input type="text" id="name" name="">
        </div>
        <div class="field">
            密码
            <input type="text" id="key" name="">
        </div>
        <div class="field">
            <input type="button" id="btn" name="" value="注册">
        </div>
    </form>
</body>
</html>
<script type="text/javascript">
      var strName = document.getElementById("name");
      var strKey = document.getElementById("key");
      var oBtn = document.getElementById("btn");
      oBtn.onclick = function () {
          var val = strName.value+":"+strKey.value;//把名字和密码连起来（1）
          setCookie("user", val, 7);//存放到当前用户中，（2）
          
          //先判断之前是否存在bank（3）
          if(getCookie("bank")){
            var bankVal =  getCookie("bank")+"_"+val;
          }else {
            var bankVal =  val;
          }
           //存放到库中（3）
           setCookie("bank", bankVal, 100);
          //跳转到首页（4）
          window.location.href = "index.html";
      }
</script> -->





<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>登陆页</title>
     <script type="text/javascript" src="cookie.js"></script> 
</head>
<body>
    <form>
        <h2>欢迎来到17点, 请登录</h2>
        <div class="field">
            姓名
            <input type="text" id="login-name" name="">
        </div>
        <div class="field">
            密码
            <input type="text" id="login-key" name="">
        </div>
        <div class="field">
            <input type="button" id="login-btn" name="" value="登陆">
        </div>
    </form>
</body>
<script type="text/javascript">
    var oLname = document.getElementById("login-name");
    var oLkey = document.getElementById("login-key");
    var oLbtn = document.getElementById("login-btn");
   //添加按钮点击事件，点击文本框取值并连接 ( val =  用户名+密码 )（1） 
    oLbtn.onclick = function  (argument) {
         var val = oLname.value+":"+oLkey.value;
          if(getCookie("bank")){ //从bank的cookie中取出库的信息，并分成数组(2)
            var arrBank = getCookie("bank").split("_");
            var boo = false;
            for( var i = 0; i < arrBank.length ; i++  ){//遍历这个数组，是否能匹配到文本框取的值（3）
                if(val == arrBank[i]){
                     boo = true;
                }
            }
            if ( boo == true) {
                setCookie("user", val);//匹配到弹出登陆成功，并刷新页面（4）
                alert("登陆成功");
                window.location.href = "index.html";
            }else {
                alert("用户名密码错误");//（4）没匹配到弹出用户名密码错误
            } 
          }
    }
</script>
</html>